# Draw.io & 実装の双方向同期

ユーザーからの指示を受けて、対象の Draw.io ファイルを探し出し、drawio ファイルの対象部分を適切に修正する。その後、実際の実装も修正し、最終的に drawio と実装が同期されているかを確認して完了する。

## 使用方法

/feat [修正指示]

例：

- /feat 認証フローに MFA 検証ステップを追加
- /feat エラーハンドリングのリトライ処理を 3 回から 5 回に変更
- /feat dev-docs/auth/login-flow.drawio の条件分岐を修正

## 処理フロー

1. ユーザー指示を受け取る
2. 対象の drawio ファイルを特定
3. drawio ファイルを修正
4. 対応する実装ファイルを修正
5. 同期確認（最終検証）
6. 完了報告

## 処理手順

### フェーズ 1: 指示の解析と対象特定

- ユーザー指示から変更内容を抽出
- 対象 drawio ファイルを検索・特定
- 関連する実装ファイルを特定

### フェーズ 2: drawio ファイルの修正

- .cursor/rules/drawio.mdc のスタイルガイドラインに従う
- ノードの追加/削除/修正を実行
- 視覚的検証（SVG エクスポート）

### フェーズ 3: 実装ファイルの修正

- drawio の変更を実装に反映
- コメントで drawio ノードとの対応を明記

### フェーズ 4: 同期確認

- drawio と実装の照合チェック
- 差分レビュー

### フェーズ 5: 完了報告

- 変更サマリの出力

## 注意事項

### 必須

- drawio と実装の両方を必ず修正すること
- 同期確認は必ず実施すること

### 禁止

- drawio だけ修正して実装を放置すること
- 実装だけ修正して drawio を放置すること
- ユーザー指示にない余分な変更を加えること
