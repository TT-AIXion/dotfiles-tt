# develop ブランチへ PR 作成

## 目的

現在のブランチから develop ブランチへのプルリクエストを自動作成する

## 実行手順

1. **ツール選択**

   - GitHub の MCP ツールが利用可能か確認
   - 利用不可の場合は gh コマンドを使用

2. **現在のブランチ確認**

   - MCP ツール利用時: Git の MCP ツールでローカルブランチ一覧を取得
   - gh コマンド利用時: `git branch --show-current` で現在のブランチ名を取得

3. **develop ブランチ存在確認**

   - MCP ツール利用時: GitHub の MCP ツールでリモートリポジトリのブランチ一覧を取得
   - gh コマンド利用時: `git ls-remote --heads origin develop` で確認
   - develop ブランチが存在しない場合:
     → 「develop ブランチが存在しません」と通知して終了

4. **差分とコミット履歴の取得**

   - MCP ツール利用時: GitHub の MCP ツールでコミット履歴と詳細を取得
   - gh コマンド利用時: `git log origin/develop..HEAD` でコミット履歴を取得
   - 変更内容を分析

5. **PR 内容の生成**

   - 取得した差分とコミットメッセージから以下を日本語で作成:
     - タイトル: 変更の要点を 1 行で要約(50 文字以内)
     - 本文:
       - 変更概要
       - 主な変更点(箇条書き)
       - 影響範囲
   - 感情表現や装飾表現は排除し、事実のみ記載

6. **PR 作成**

   - MCP ツール利用時: GitHub の MCP ツールでプルリクエストを作成
   - gh コマンド利用時: `gh pr create --base develop --head [現在のブランチ] --title [タイトル] --body [本文]`

7. **結果通知**
   - PR URL を出力
   - 作成完了メッセージのみ表示

## エラーハンドリング

- リポジトリ情報が取得できない → ユーザーに通知して終了
- 現在のブランチが develop と同一 → 「同一ブランチのため PR 不要」と通知して終了
- API 権限不足 → エラー内容を明示して終了
- MCP ツールと gh コマンド両方が利用不可 → その旨を通知して終了

## 制約

- 優先順位: GitHub の MCP ツール > gh コマンド
- 全ての出力は日本語
